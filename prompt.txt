Generally speaking this is an add-on for Home Assistant that provides a web interface for managing broadlink devices
making the process of learning, testing, and removing commands easier. The default broadlink integration in HA is not 
very user friendly and requires a lot of manual configuration and testing. This add-on provides a simple and intuitive 
interface for managing broadlink devices and their commands. I need your help polishing the UI and making it more user 
friendly.

I've added the .storage folder to this project. do not change any files in this folder but use it as a reference. 
Since the broadlink manager add-on is running AS an add-on with read permissions to this folder we can find much 
of what we need locally in HA without making API calls to get the same.

In the UI there is a dropdown to select the device to learn a command from. This dropdown can be populated with the list
of broadlink devices found in device_registry

The Room/Area dropdown can be populated with the list of areas found in area_registry (btw, you should rename "Room" to "Area" in the UI)

The data elements available in the broadlink_remote_{unique_id}_codes are limited so I've chosen to follow the pattern {area}_{device} i.e. tony_s_office_ceiling_fan
and the indivdiual actions will be contained in each of the device entries. i.e. fan_off

Upon loading of the page initially the dropdowns should act as a filter. None of them should be preset to anything 
and all commands for all broadlink devices should be listed below in the command list area.
The drodowns shoul be populated with only relevant entries. 
* Only areas with broadlink devices that have been learned should be listed in the area dropdown.
* Only broadlink devices that have been learned should be listed in the device dropdown.
* Only devices that have been learned should be listed in the device dropdown.
I should be able to select the area and the other dropdowns will be filtered to only show relevant entries. Same for the other dropdowns.
This should behave differently when I want to add a new learned command though as I will need to select the broadlink device, area and device (device may exist or need to be added at this point).
I'm not sure how to adjust the UI for switching between filter mode and add mode. Please help me with this. I am not married to the current UI and open to suggestions.

Remove the "test notifications" and test service" buttons from the UI.

The remove button by each command should be used to call the delete command api endpoint for the corresponding broadlink device.
When pressed it should ask for confirmation and then call the delete command api endpoint for the corresponding broadlink device.

Below are some samples from the .storage folder. Please use them as a reference.
{
  "version": 1,
  "minor_version": 8,
  "key": "core.area_registry",
  "data": {
    "areas": [
      {
        "aliases": [],
        "floor_id": null,
        "humidity_entity_id": null,
        "icon": null,
        "id": "master_bathroom",
        "labels": [],
        "name": "Master Bathroom",
        "picture": null,
        "temperature_entity_id": null,
        "created_at": "1970-01-01T00:00:00+00:00",
        "modified_at": "1970-01-01T00:00:00+00:00"
      },
      {
        "aliases": [],
        "floor_id": null,
        "humidity_entity_id": null,
        "icon": null,
        "id": "tony_s_office",
        "labels": [],
        "name": "Tony's Office",
        "picture": null,
        "temperature_entity_id": null,
        "created_at": "2025-05-14T17:43:33.723255+00:00",
        "modified_at": "2025-05-14T17:43:33.723256+00:00"
      }
    ]
  }
}
entity_registry
{
  "version": 1,
  "minor_version": 19,
  "key": "core.entity_registry",
  "data": {
    "entities": [
      {"aliases":[],"area_id":null,"categories":{},"capabilities":null,"config_entry_id":"01K5SWH27M3612N5XC0THNJTHN","config_subentry_id":null,"created_at":"2025-08-24T15:36:40.881824+00:00","device_class":null,"device_id":"e7c20e68cc76d2877b2bfc829f7c8272","disabled_by":null,"entity_category":null,"entity_id":"remote.tony_s_office_rm4_pro","hidden_by":null,"icon":null,"id":"8ccb287f4921b19d35a0ebf4c6e5be22","has_entity_name":true,"labels":[],"modified_at":"2025-09-25T00:38:17.814662+00:00","name":null,"options":{"cloud.google_assistant":{"should_expose":false},"conversation":{"should_expose":false}},"original_device_class":null,"original_icon":null,"original_name":null,"platform":"broadlink","suggested_object_id":null,"supported_features":3,"translation_key":null,"unique_id":"e870723f13a5","previous_unique_id":null,"unit_of_measurement":null},
      {"aliases":[],"area_id":null,"categories":{},"capabilities":null,"config_entry_id":"01K5YYDV4SSG0R5VZYV1A7M4K5","config_subentry_id":null,"created_at":"2025-09-24T22:45:10.055995+00:00","device_class":null,"device_id":"e7177f6173b3a842007e4071b2e4d2ca","disabled_by":null,"entity_category":null,"entity_id":"remote.master_bedroom_rm4_pro","hidden_by":null,"icon":null,"id":"b0112b99995f9395ff49395c19882cad","has_entity_name":true,"labels":[],"modified_at":"2025-09-25T01:25:24.557777+00:00","name":"Master Bedroom RM4 Pro","options":{"cloud.google_assistant":{"should_expose":false},"conversation":{"should_expose":false}},"original_device_class":null,"original_icon":null,"original_name":null,"platform":"broadlink","suggested_object_id":null,"supported_features":3,"translation_key":null,"unique_id":"e870729e9e5f","previous_unique_id":null,"unit_of_measurement":null},
    ]
  }
}
device_registry
{
  "version": 1,
  "minor_version": 12,
  "key": "core.device_registry",
  "data": {
    "devices": [
      {"area_id":"tony_s_office","config_entries":["01K5SWH27M3612N5XC0THNJTHN","01JZNRS4631WXM5B7E9BNCYDFW"],"config_entries_subentries":{"01JZNRS4631WXM5B7E9BNCYDFW":[null],"01K5SWH27M3612N5XC0THNJTHN":[null]},"configuration_url":null,"connections":[["mac","e8:70:72:3f:13:a5"]],"created_at":"2025-08-24T15:36:40.881411+00:00","disabled_by":null,"entry_type":null,"hw_version":null,"id":"e7c20e68cc76d2877b2bfc829f7c8272","identifiers":[["broadlink_plus","e870723f13a5"],["broadlink","e870723f13a5"]],"labels":[],"manufacturer":"Broadlink","model":"RM4 pro","model_id":null,"modified_at":"2025-09-23T18:40:05.517177+00:00","name_by_user":null,"name":"Tony's Office RM4 Pro","primary_config_entry":"01K5SWH27M3612N5XC0THNJTHN","serial_number":null,"sw_version":62093,"via_device_id":null},
      {"area_id":"master_bedroom","config_entries":["01K5YYDV4SSG0R5VZYV1A7M4K5","01JZNRS4631WXM5B7E9BNCYDFW"],"config_entries_subentries":{"01K5YYDV4SSG0R5VZYV1A7M4K5":[null],"01JZNRS4631WXM5B7E9BNCYDFW":[null]},"configuration_url":null,"connections":[["mac","e8:70:72:9e:9e:5f"]],"created_at":"2025-09-24T22:45:10.055577+00:00","disabled_by":null,"entry_type":null,"hw_version":null,"id":"e7177f6173b3a842007e4071b2e4d2ca","identifiers":[["broadlink","e870729e9e5f"]],"labels":[],"manufacturer":"Broadlink","model":"RM4 pro","model_id":null,"modified_at":"2025-09-25T02:54:03.570843+00:00","name_by_user":null,"name":"Master Bedroom RM4 Pro","primary_config_entry":"01K5YYDV4SSG0R5VZYV1A7M4K5","serial_number":null,"sw_version":62093,"via_device_id":null}
    ]
  }
}
broadline_remote_{unique_id}_codes

{
  "version": 1,
  "minor_version": 1,
  "key": "broadlink_remote_e870723f13a5_codes",
  "data": {
    "tony_s_office_ceiling_fan": {
      "fan_off": "scCwBLCeBgD7UekkChcWDBYMCRkJGRYMCRkJGRYMFgoLFxgKGAoLFxcLCxcLFwsXCxYLFwoYFwsXCwoYChcLFwsXGAoLFgwWGAoLFxcLCxcXCwsXFwsKGBYMChgKFesjCRkWCxcLChgKFxgKCxcLFxcLFwsLFxYMFgsLFxcLChgKGAoYChgKFwsXFwsXCwsXCxcKGAoXFwsLFwoYFgwKGBcLChgWDAoXFwoLFxgKCxcLFukjCxcXCxcLCxcKFxcLCxcLFxcLFwsKGBcLFwsKGBYLCxcLFwoYChcLFwsXFwsXCwsXCxcKGAoYFgwKFwoYFwoLGBcLChcYCgsXFwsLFxcLCxcLFukjChgWCxcLCxcKGBcLChgKGBYMFgsLFxcKGAsKFxgKCxcLFwsXCxcLFwoYFgwWDAkZChgKFwoYFwoLFwsXGAoLFxcLCxcWDAsXFgwKGBYLChkKFeojChgXCxYMChgKFxcKCxgKGBcKGAoLFxcLFwsLFxYMChgKGAoYChgJGQkXGAoYCgsXCxcLFwsXFwsLFwsXFgwKGBYMCRkWDAkYFwoLFxgKCxcLRekjChgWCxcLCxcKGBcLChgKGBcLFgwKFxcLFwsKGBcKCxcLFwsXCxcLFwoYFgwWDAoYChgKGAoXFwoLFwsXGAoLFxcLCxcXCwsXFgwJGRYLChkJReojChcXCxcKCxcLFxcLCxcLFxcLFwsKGBYMFgwKGBYLChgLFwoXCxcLFwsXFwsWDAsXCxcKGAoYFgwKFwoYFwsKFxgKCxcYCgsXGAoLFxYMCxcLROkjChgXCxYMChgKFhgKCxcLFxgKGAoLFxcLFwsLFxYMChgKGAoYChgJGAoYFwoYCgsXCxcLFwsXFgwLFwoYFgsKGRYMCRgXCwoYFwsKFxgKCxcLROkjCxcXCxcLCxcKGBYMCRgKGRYMFgsKFxgKGAoLFxcLCxcLFwsXCxcKGAkYFwsXCwoYChgKGAoXFwsLFwsXFwoLGBYMCxYXCwsXFwsKGBcLChgKROkjCxcYChgKCxcLFxYMCxcKGBYMFgsKGRYLFwsKGBcKCxcLFwsXCxcLFwsXFgsXDAoYChcLFwoYFwsKGAoYFgsLFxgKCxcXCwsXFwoLFxcLCxcLROojCRgXCxcLChgKFxcLCxcLFxgKFwsLFxYLFwsLFxcLChgKGAoYChgKGAoXFwsXCwoYChcLFwsXFwsLFwsXFgwKGBcLChgWDAoXFwoLFxgKCxcLRekjChgWCxcLCxcKGBYMChgKGBYMFgsKGBcLFwoLFxgKCxcLFwsXCxcKGAoYFgwWDAkZChgKFwoXGAoLFwsXGAoLFxcLCxcWDAsXFgwKFxcLChkKROoiCxcXCxcLCxcKFxcLCxcLFxcLFwsKGBcLFwsKGBYMChcLFwoYChcLFwsXFwsXCwsXCxcKGAoYFgwKGAkYFwsKFxgKCxcYCgsXFwsLFxcLCxcLQ+ojChgXCxcLChgKFxcLCxYLGBcLFwoLFxcLFwsLFxcLChgKGAoYChgKGAkYFwoYCgsYChcLFwsXFwsLFwsXFgwJGRcLChgWCwoYFwoLFxgKCxcLRekjChcXCxcLCxcLFxcLChgKGA==",
      "light_on": "scAAArCeBgAEDAQjCxcWDBYLChgKGBcLChgKFxgKGAoLFxcLFgwKGBYLCxgKGAkYChgKGAoYFwoXCwsXCxcXCxcLFgwWCxcLFwsXDBYLFwsKGAoYChcYChcLFwsLROkjCxcXCxcLCxcKFxcMCRgKGRYMFgoLFxgKGAoLFxYMCxcLFwsXCxcJGAoYFwsXCwoYChcYChgKGAoXCxYMFgwWDBcLFgwKFwoYChgXCxcKGAoLReclChgWCxcLCxcLFxYMChgKGBcLFgwJGRYLFwsKFxgKCxgKFwsXCxgKFwoYFgwWDAkZChgWCxcLFwoYChgKGAoXCxcLFwsLFwoYChgWDBYLFwwKROkjCxcXCxcLChgKFxcLCxcKGBcLFwsKGBcLFgwKFxcLChgLFwoXCxcLFwsXFwsXCwoYChgXCxcLFgwWChgKGAoYCxcKFwsLFwsXCxcXCxcLFgwKROglChcYChcLCxcLFxcLChcLGBYLFwsKGBcLFwsKGBYLCxcLFwsXCxcKFwsXFwsXCwsXCxcXCxcLFwsWDBYLFwsXCxcLFwsKFwsXCxcXCxcLFwsKROojChgXCxcKCxcLFxcLCxcKGBYMFgsLFxcLFwsKGBcLChgKGAoXCxcKFwsYFwoXCwsYChcXCxcLFwsXCxYMFgwWDBcKFwsKGAsWCxcXCxcLFwsLAAXc",
    }
  }
}


In the reference folder you will fine the html file that was built to help with programming a broadlink device. 
In my case it is a rm4 pro. 
This html page uses the HA api to communicate with an updated broadlink comonent based on the original with the added feature to list learned commands. 

YOu can find that code in the reference folder as well. 

What I want to do now is create the same functionality as an add-on instead of the stand along web page -> HA api (custom component).

The basic broadlink add-on supports the learning of commands.
I want to replace the need for an extended version of the broadlink component by adding the functionality to list learned commands to the basic add-on. Refer to the broadlink_plus component code to see how it's done.

I am fine with the new add-on being based on the html file in the reference folder. We should be able to do away with the url and token fields.

I do understand that this add-on will require ro access to config/.storage to list learned commands.

Can you help me create this add-on?

